(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{27:function(e,a,t){},40:function(e,a,t){e.exports=t(53)},46:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(17),i=t.n(r),l=t(9),s=t(39),o=t(12),m=t.n(o),u=t(19),v=function(e){var a=e.movie,t=e.removeMovie,r=e.addMovieWillWatch,i=e.removeMovieWillWatch,s=Object(n.useState)(!1),o=Object(l.a)(s,2),m=o[0],u=o[1];return c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(a.backdrop_path||a.poster_path),alt:""}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title"},a.title),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("p",{className:"mb-0"},"Rating: ",a.vote_average),m?c.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){u(!1),i(a)}},"Remove will Watch"):c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){u(!0),r(a)}},"Add will Watch")),c.a.createElement("button",{onClick:function(){return t(a.id)}},"Delete movie")))},p=t(32),d=t.n(p),f=c.a.createContext(),E=t(27),b=t.n(E),g=d.a.bind(b.a),h=function(e){var a=e.sort_by,t=Object(n.useContext)(f).dispatch,r=function(e){return function(){!function(e){t({type:"sort",payload:e})}(e)}},i=function(e){return g({"nav-link":!0,active:a===e})};return c.a.createElement("ul",{className:"tabs nav nav-pills"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:i("popularity.desc"),onClick:r("popularity.desc")},"Popularity desc")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:i("revenue.desc"),onClick:r("revenue.desc")},"Revenue desc")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:i("vote_average.desc"),onClick:r("vote_average.desc")},"Vote average desc")))},y=function(){var e=Object(u.a)(m.a.mark((function e(a,t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("8c59846350a7a184c026cebf615c0c00","&sort_by=").concat(a,"&page=").concat(t)).then((function(e){return e.json()})).then((function(e){n=e.results}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();t(46);var N=function(e){var a=e.page,t=Object(n.useContext)(f).dispatch;return c.a.createElement("nav",{"aria-label":"Page navigation example"},c.a.createElement("ul",{className:"pagination justify-content-center"},c.a.createElement("li",{className:"page-item ".concat(a<2&&"disabled"),onClick:function(){t({type:"prevPage"})}},c.a.createElement("a",{className:"page-link",href:"#",tabIndex:"-1","aria-disabled":"true"},"Previous")),c.a.createElement("li",{className:"page-item"},c.a.createElement("a",{className:"page-link",href:"#"},a)),c.a.createElement("li",{className:"page-item",onClick:function(){t({type:"nextPage"})}},c.a.createElement("a",{className:"page-link",href:"#"},"Next"))))};t(47);var j=function(e){var a=e.appState;console.log(a);var t=a.arrayMovies,r=a.sortBy,i=a.page,o=Object(n.useContext)(f).dispatch,p=Object(n.useState)(t),d=Object(l.a)(p,2),E=d[0],b=d[1],g=Object(n.useState)([]),j=Object(l.a)(g,2),O=j[0],k=j[1],x=function(){var e=Object(u.a)(m.a.mark((function e(a,t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(a,t);case 2:n=e.sent,o({type:"getMovies",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x(r,i)}),[r,i]),Object(n.useEffect)((function(){b(t)}),[t]);var w=function(e){var a=E.filter((function(a){return a.id!==e}));b(a)},C=function(e){var a=[].concat(Object(s.a)(O),[e]);return k(a),O},M=function(e){var a=O.filter((function(a){return a.id!==e.id}));return k(a),O};return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-10"},c.a.createElement("div",{className:"row mb-4"},c.a.createElement("div",{className:"tabs-container col-12"},c.a.createElement(h,{sort_by:r})),E.map((function(e){return c.a.createElement("div",{className:"col-md-6 col-sm-12 mb-4",key:e.id},c.a.createElement(v,{movie:e,removeMovie:w,addMovieWillWatch:C,removeMovieWillWatch:M}))}))),c.a.createElement(N,{page:i}))))},O=t(58),k=t(59),x=t(57),w=t(38),C=t(56);t(48);var M=function(){return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"main-container"},c.a.createElement(O.a,{collapseOnSelect:!0,expand:"md",variant:"dark"},c.a.createElement(O.a.Brand,{href:"/"},"Movies List"),c.a.createElement(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(O.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(k.a,{className:"mr-auto"}),c.a.createElement(x.a,{inline:!0},c.a.createElement(w.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),c.a.createElement(C.a,{variant:"outline-primary"},"Search"))))))};t(52);var W=function(){return c.a.createElement("div",null,"Footer")},S=t(15),_=function(e,a){switch(a.type){case"getMovies":return Object(S.a)({},e,{arrayMovies:a.payload});case"sort":return Object(S.a)({},e,{sortBy:a.payload});case"nextPage":var t=e.page+1;return Object(S.a)({},e,{page:t});case"prevPage":var n=e.page;return e.page>1&&(n=e.page-1),Object(S.a)({},e,{page:n});default:return e}},P=(t(31),{page:1,arrayMovies:[],sortBy:"popularity.desc"});var B=function(){var e=Object(n.useReducer)(_,P),a=Object(l.a)(e,2),t=a[0],r=a[1];return c.a.createElement(f.Provider,{value:{dispatch:r}},c.a.createElement("div",{className:"App"},c.a.createElement(M,null),c.a.createElement(j,{appState:t}),c.a.createElement(W,null)))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(B,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7271a04e.chunk.js.map