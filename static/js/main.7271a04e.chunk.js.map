{"version":3,"sources":["components/MovieItem.jsx","context.js","components/MovieTabs.jsx","services/getMovies.jsx","utils/api.js","components/FilterComponent/FilterComponent.jsx","components/Pagination/Pagination.jsx","pages/MainPage/MainPage.js","components/Header/Header.jsx","components/Footer/Footer.jsx","reducer.js","App.jsx","index.js"],"names":["MovieItem","props","movie","removeMovie","addMovieWillWatch","removeMovieWillWatch","useState","willWatch","setWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","id","Context","React","createContext","cx","classNames","bind","styles","MovieTabs","sort_by","dispatch","useContext","handleClick","value","payload","updateSortBy","active","getMovies","page","a","fetch","then","response","json","data","result","results","FilterComponent","Pagination","aria-label","href","tabIndex","aria-disabled","MainPage","appState","console","log","arrayMovies","sortBy","movies","setMovies","moviesWillWatch","setMoviesWillWatch","getMovie","useEffect","updateMovies","filter","item","updateMoviesWillWatch","map","key","Header","Navbar","collapseOnSelect","expand","variant","Brand","Toggle","aria-controls","Collapse","Nav","Form","inline","FormControl","placeholder","Button","Footer","state","action","addPage","removePage","initialState","App","useReducer","reducer","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7271a04e.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst MovieItem = (props) => {\r\n  const { movie, removeMovie, addMovieWillWatch, removeMovieWillWatch } = props;\r\n  const [willWatch, setWillWatch] = useState(false);\r\n  \r\n  return (\r\n    <div className=\"card\">\r\n      <img\r\n        className=\"card-img-top\"\r\n        src={`https://image.tmdb.org/t/p/w500${\r\n          movie.backdrop_path || movie.poster_path\r\n        }`}\r\n        alt=\"\"\r\n      />\r\n      <div className=\"card-body\">\r\n        <h6 className=\"card-title\">{movie.title}</h6>\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n          {willWatch ? (\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-success\"\r\n              onClick={() => {\r\n                setWillWatch(false);\r\n                removeMovieWillWatch(movie);\r\n              }}\r\n            >\r\n              Remove will Watch\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => {\r\n                setWillWatch(true);\r\n                addMovieWillWatch(movie);\r\n              }}\r\n            >\r\n              Add will Watch\r\n            </button>\r\n          )}\r\n        </div>\r\n        <button onClick={() => removeMovie(movie.id)}>Delete movie</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieItem;","import React from 'react'\r\n\r\nconst Context = React.createContext();\r\n\r\nexport default Context;","import React, { useContext } from \"react\";\r\nimport classNames from \"classnames/bind\";\r\nimport Context from \"../context\";\r\n\r\nimport styles from \"../style/app.scss\";\r\n\r\nlet cx = classNames.bind(styles);\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sort_by } = props;\r\n   const { dispatch } = useContext(Context); \r\n\r\n  const updateSortBy = (value) => {\r\n    dispatch({\r\n      type: \"sort\",\r\n      payload: value,\r\n    });\r\n  };\r\n\r\n   const handleClick = (value) => {\r\n     return () => {\r\n       updateSortBy(value);\r\n     };\r\n   };\r\n\r\n  const className = (value) =>\r\n    cx({\r\n      'nav-link': true,\r\n      active: sort_by === value,\r\n    });\r\n\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={className(\"popularity.desc\")}\r\n          onClick={handleClick(\"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={className(\"revenue.desc\")}\r\n          onClick={handleClick(\"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={className(\"vote_average.desc\")}\r\n          onClick={handleClick(\"vote_average.desc\")}\r\n        >\r\n          Vote average desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default MovieTabs;","\r\nimport React from 'react'\r\n\r\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\r\n\r\nexport const getMovies = async (sort_by, page) => {\r\n  let result;\r\n\r\n  await fetch(\r\n    `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${sort_by}&page=${page}`\r\n  ).then((response) => {\r\n    return response.json();\r\n  }).then((data) => {\r\n    result = data.results;\r\n  });\r\n\r\n  return result;\r\n};","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"8c59846350a7a184c026cebf615c0c00\";\r\n\r\n// export const API_KEY_4 =\r\n//   \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4YzU5ODQ2MzUwYTdhMTg0YzAyNmNlYmY2MTVjMGMwMCIsInN1YiI6IjVlOWQ2NjNmNGE0YmZjMDAyM2Q3YWEzNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6tFI6OYt4-m01918o2_K-SL45oEBVDWjqWZ5SWee1AI\";\r\n","import React from 'react'\r\n\r\nfunction FilterComponent () {\r\n\r\n  return (\r\n    <div>\r\n      Filter\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterComponent;","import React, { useContext } from \"react\";\r\nimport Context from \"../../context\";\r\n\r\nimport './pagination.scss';\r\n\r\nconst Pagination = (props) => {\r\n const { page } = props;\r\n const { dispatch } = useContext(Context);\r\n\r\n const nextPage = () => {\r\n  dispatch({\r\n    type: 'nextPage',\r\n  })\r\n }\r\n\r\n const prevPage = () => {\r\n  dispatch({\r\n    type: \"prevPage\",\r\n  });\r\n }\r\n\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li\r\n          className={`page-item ${page < 2 && \"disabled\"}`}\r\n          onClick={prevPage}\r\n        >\r\n          <a\r\n            className=\"page-link\"\r\n            href=\"#\"\r\n            tabIndex=\"-1\"\r\n            aria-disabled=\"true\"\r\n          >\r\n            Previous\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            {page}\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\" onClick={nextPage}>\r\n          <a className=\"page-link\" href=\"#\">\r\n            Next\r\n          </a>\r\n         </li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Pagination;","import React, { useState, useEffect, useContext } from \"react\";\nimport MovieItem from '../../components/MovieItem';\nimport MovieTabs from '../../components/MovieTabs';\nimport { getMovies } from \"../../services/getMovies\";\nimport FilterComponent from '../../components/FilterComponent/FilterComponent';\nimport Pagination from '../../components/Pagination/Pagination';\nimport Context from '../../context';\n\nimport './mainPage.scss';\n\nfunction MainPage({appState}) {\n  console.log(appState);\n  const { arrayMovies, sortBy, page } = appState;\n  const { dispatch } = useContext(Context);\n  const [movies, setMovies] = useState(arrayMovies);\n  const [moviesWillWatch, setMoviesWillWatch] = useState([]);\n  \n  const getMovie = async (sortBy, page) => {\n    let movies = await getMovies(sortBy, page);\n    dispatch({\n      type: \"getMovies\",\n      payload: movies,\n    });\n  };\n\n  useEffect(() => {\n    getMovie(sortBy, page);\n  }, [sortBy, page]);\n\n   useEffect(() => {\n     setMovies(arrayMovies);\n   }, [arrayMovies]);\n\n  const removeMovie = (id) => {\n    const updateMovies = movies.filter((item) => {\n      return item.id !== id;\n    });\n    setMovies(updateMovies);\n  }\n\n  const addMovieWillWatch = (movie) => {\n    const updateMoviesWillWatch = [...moviesWillWatch, movie];\n    setMoviesWillWatch(updateMoviesWillWatch);\n\n    return moviesWillWatch;\n  };\n\n  const removeMovieWillWatch = (movie) => {\n    const updateMoviesWillWatch = moviesWillWatch.filter(item => {\n      return item.id !== movie.id;\n    });\n    setMoviesWillWatch(updateMoviesWillWatch);\n\n    return moviesWillWatch;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-10\">\n          <div className=\"row mb-4\">\n            <div className=\"tabs-container col-12\">\n              <MovieTabs sort_by={sortBy} />\n            </div>\n            {movies.map((movie) => {\n              return (\n                <div className=\"col-md-6 col-sm-12 mb-4\" key={movie.id}>\n                  <MovieItem\n                    movie={movie}\n                    removeMovie={removeMovie}\n                    addMovieWillWatch={addMovieWillWatch}\n                    removeMovieWillWatch={removeMovieWillWatch}\n                  />\n                </div>\n              );\n            })}\n          </div>\n          <Pagination page={page} />\n          {/* <div className=\"willWatch col-2\">\n          Will watch: {moviesWillWatch.length}\n        </div> */}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MainPage;\n","import React from \"react\";\r\n\r\nimport { Navbar, Nav, Button, Form, FormControl } from \"react-bootstrap\";\r\n\r\nimport \"./header.scss\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"main-container\">\r\n        <Navbar collapseOnSelect expand=\"md\" variant=\"dark\">\r\n          <Navbar.Brand href=\"/\">Movies List</Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"mr-auto\"></Nav>\r\n            <Form inline>\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                className=\"mr-sm-2\"\r\n              />\r\n              <Button variant=\"outline-primary\">Search</Button>\r\n            </Form>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\n\r\nimport './footer.scss';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div>\r\n      Footer\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer;","export default function(state, action) {\r\n  switch (action.type) {\r\n    case \"getMovies\":\r\n      return {\r\n        ...state,\r\n        arrayMovies: action.payload,\r\n      };\r\n    case \"sort\":\r\n      return {\r\n        ...state,\r\n        sortBy: action.payload,\r\n      };\r\n    case \"nextPage\":\r\n      const addPage = state.page + 1;\r\n      return {\r\n        ...state,\r\n        page: addPage,\r\n      };\r\n    case \"prevPage\":\r\n      let removePage = state.page;\r\n      if (state.page > 1) {\r\n        removePage = state.page - 1;\r\n      }\r\n      return {\r\n        ...state,\r\n        page: removePage,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import React, { useReducer } from \"react\";\r\nimport MainPage from \"./pages/MainPage/MainPage\";\r\nimport Header from './components/Header/Header';\r\nimport Footer from './components/Footer/Footer';\r\nimport reducer from './reducer';\r\nimport Context from \"./context\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport \"./style/app.scss\";\r\n\r\nconst initialState = {\r\n  page: 1,\r\n  arrayMovies: [],\r\n  sortBy: \"popularity.desc\",\r\n};\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(reducer, initialState )\r\n\r\n  return (\r\n    <Context.Provider value={{ dispatch }}>\r\n      <div className=\"App\">\r\n        <Header />\r\n        <MainPage appState={state}/>\r\n        <Footer />\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}